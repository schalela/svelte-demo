import{a,b as e,c as s,C as t,g as r,h as l,p as c,i as m,j as o,k as i,l as n,m as h,n as u,s as d,r as f,D as v,o as x,q as g,E,F as N}from"./chunk.f2dfe1da.js";import{a as T,b as p,c as y,d as $}from"./chunk.64089ada.js";function w(a,e,s){const t=Object.create(a);return t.fixture=e[s],t}function _(a){var e,s,t,c=a.error;return{c(){e=r("li"),s=l("Error loading games: "),t=l(c),this.h()},l(a){e=m(a,"LI",{class:!0},!1);var r=o(e);s=i(r,"Error loading games: "),t=i(r,c),r.forEach(n),this.h()},h(){e.className="svelte-xdd3ms"},m(a,r){h(a,e,r),u(e,s),u(e,t)},p(a,e){a.$live&&c!==(c=e.error)&&x(t,c)},d(a){a&&n(e)}}}function S(a){var e,s=[],t=new Map,r=a.result.data.fixtures.sort(j);const l=a=>a.fixture.fixture_id;for(var c=0;c<r.length;c+=1){let e=w(a,r,c),m=l(e);t.set(m,s[c]=A(m,e))}var m=null;return r.length||(m=k(a)).c(),{c(){for(c=0;c<s.length;c+=1)s[c].c();e=g()},l(a){for(c=0;c<s.length;c+=1)s[c].l(a);e=g()},m(a,t){for(c=0;c<s.length;c+=1)s[c].m(a,t);h(a,e,t),m&&m.m(a,null)},p(a,r){const c=r.result.data.fixtures.sort(j);s=E(s,a,l,1,r,c,t,e.parentNode,N,A,e,w),c.length?m&&(m.d(1),m=null):m||((m=k(r)).c(),m.m(e.parentNode,e))},d(a){for(c=0;c<s.length;c+=1)s[c].d(a);a&&n(e),m&&m.d(a)}}}function k(a){var e,s;return{c(){e=r("li"),s=l("No games live"),this.h()},l(a){e=m(a,"LI",{class:!0},!1);var t=o(e);s=i(t,"No games live"),t.forEach(n),this.h()},h(){e.className="svelte-xdd3ms"},m(a,t){h(a,e,t),u(e,s)},d(a){a&&n(e)}}}function A(a,e){var s,t,d,f,v,g,E,N,T,p,y,$,w,_,S,k,A,L,b,M,I,j,q,R,O,C,D=e.fixture.homeTeam.team_name,G=e.fixture.goalsHomeTeam,H=e.fixture.goalsAwayTeam,z=e.fixture.statusShort,U=e.fixture.awayTeam.team_name;return{key:a,first:null,c(){s=r("li"),t=r("team"),d=r("img"),g=c(),E=r("team-name"),N=l(D),T=c(),p=r("score"),y=r("goals"),$=l(G),w=l(" – "),_=l(H),S=c(),k=r("status"),A=l(z),L=c(),b=r("team"),M=r("img"),q=c(),R=r("team-name"),O=l(U),C=c(),this.h()},l(a){s=m(a,"LI",{class:!0},!1);var e=o(s);t=m(e,"TEAM",{class:!0},!1);var r=o(t);d=m(r,"IMG",{src:!0,alt:!0,class:!0},!1),o(d).forEach(n),g=i(r,"\n              "),E=m(r,"TEAM-NAME",{class:!0},!1);var l=o(E);N=i(l,D),l.forEach(n),r.forEach(n),T=i(e,"\n            "),p=m(e,"SCORE",{class:!0},!1);var c=o(p);y=m(c,"GOALS",{class:!0},!1);var h=o(y);$=i(h,G),w=i(h," – "),_=i(h,H),h.forEach(n),S=i(c,"\n              "),k=m(c,"STATUS",{class:!0},!1);var u=o(k);A=i(u,z),u.forEach(n),c.forEach(n),L=i(e,"\n            "),b=m(e,"TEAM",{class:!0},!1);var f=o(b);M=m(f,"IMG",{src:!0,alt:!0,class:!0},!1),o(M).forEach(n),q=i(f,"\n              "),R=m(f,"TEAM-NAME",{class:!0},!1);var v=o(R);O=i(v,U),v.forEach(n),f.forEach(n),C=i(e,"\n          "),e.forEach(n),this.h()},h(){d.src=f=e.fixture.homeTeam.logo,d.alt=v=e.fixture.homeTeam.team_name,d.className="svelte-xdd3ms",E.className="svelte-xdd3ms",t.className="svelte-xdd3ms",y.className="svelte-xdd3ms",k.className="svelte-xdd3ms",p.className="svelte-xdd3ms",M.src=I=e.fixture.awayTeam.logo,M.alt=j=e.fixture.awayTeam.team_name,M.className="svelte-xdd3ms",R.className="svelte-xdd3ms",b.className="svelte-xdd3ms",s.className="svelte-xdd3ms",this.first=s},m(a,e){h(a,s,e),u(s,t),u(t,d),u(t,g),u(t,E),u(E,N),u(s,T),u(s,p),u(p,y),u(y,$),u(y,w),u(y,_),u(p,S),u(p,k),u(k,A),u(s,L),u(s,b),u(b,M),u(b,q),u(b,R),u(R,O),u(s,C)},p(a,e){a.$live&&f!==(f=e.fixture.homeTeam.logo)&&(d.src=f),a.$live&&v!==(v=e.fixture.homeTeam.team_name)&&(d.alt=v),a.$live&&D!==(D=e.fixture.homeTeam.team_name)&&x(N,D),a.$live&&G!==(G=e.fixture.goalsHomeTeam)&&x($,G),a.$live&&H!==(H=e.fixture.goalsAwayTeam)&&x(_,H),a.$live&&z!==(z=e.fixture.statusShort)&&x(A,z),a.$live&&I!==(I=e.fixture.awayTeam.logo)&&(M.src=I),a.$live&&j!==(j=e.fixture.awayTeam.team_name)&&(M.alt=j),a.$live&&U!==(U=e.fixture.awayTeam.team_name)&&x(O,U)},d(a){a&&n(s)}}}function L(a){var e,s;return{c(){e=r("li"),s=l("Loading..."),this.h()},l(a){e=m(a,"LI",{class:!0},!1);var t=o(e);s=i(t,"Loading..."),t.forEach(n),this.h()},h(){e.className="svelte-xdd3ms"},m(a,t){h(a,e,t),u(e,s)},p:f,d(a){a&&n(e)}}}function b(a){var e,s,v,x,g,E,N,T,p,y;let $={ctx:a,current:null,pending:L,then:S,catch:_,value:"result",error:"error"};return t(y=a.$live,$),{c(){e=r("main"),s=r("title"),v=l("Svelte SSR Demo"),x=c(),g=r("content"),E=r("h1"),N=l("Live Results"),T=c(),p=r("ul"),$.block.c(),this.h()},l(a){e=m(a,"MAIN",{class:!0},!1);var t=o(e);s=m(t,"TITLE",{},!1);var r=o(s);v=i(r,"Svelte SSR Demo"),r.forEach(n),x=i(t,"\n  "),g=m(t,"CONTENT",{class:!0},!1);var l=o(g);E=m(l,"H1",{class:!0},!1);var c=o(E);N=i(c,"Live Results"),c.forEach(n),T=i(l,"\n    "),p=m(l,"UL",{class:!0},!1);var h=o(p);$.block.l(h),h.forEach(n),l.forEach(n),t.forEach(n),this.h()},h(){E.className="svelte-xdd3ms",p.className="svelte-xdd3ms",g.className="svelte-xdd3ms",e.className="svelte-xdd3ms"},m(a,t){h(a,e,t),u(e,s),u(s,v),u(e,x),u(e,g),u(g,E),u(E,N),u(g,T),u(g,p),$.block.m(p,$.anchor=null),$.mount=(()=>p),$.anchor=null},p(e,s){a=s,$.ctx=a,"$live"in e&&y!==(y=a.$live)&&t(y,$)||$.block.p(e,d(d({},a),$.resolved))},i:f,o:f,d(a){a&&n(e),$.block.d(),$=null}}}let M;async function I(){return M=new T({uri:"https://emjxn6xptvbvlhcocrhq7gwhoy.appsync-api.ap-southeast-2.amazonaws.com/graphql",headers:{"x-api-key":"da2-htijskntwzehlai3cbhmt7c24e"},fetch:this.fetch}),{cache:await M.query({query:p})}}function j(a,e){return a.league_id-e.league_id||a.fixture_id-e.fixture_id}function q(a,e,s){let t,{cache:r}=e;y(M,p,r.data);const l=$(M,{query:p});return v(a,l,a=>{s("$live",t=a)}),a.$set=(a=>{"cache"in a&&s("cache",r=a.cache)}),{cache:r,live:l,$live:t}}export default class extends a{constructor(a){super(),e(this,a,q,b,s,["cache"])}}export{I as preload};
//# sourceMappingURL=index.fbeb58e4.js.map
